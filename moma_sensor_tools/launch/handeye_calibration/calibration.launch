<?xml version="1.0" ?>
<launch>
    <arg name="camera_pc" default="true"/>
    <arg name="operator_pc" default="true"/>
    <arg name="debug"       default="false"/>

    <!-- Intrinsic camera calibration done with the camera_calibration package -->
    <arg name="custom_intrinsics" default="true" />
    <arg name="custom_intrinsics_file" default="$(env HOME)/calibration/camera_calibration.yaml" />

    <group if="$(arg camera_pc)">
        <node name="camera_intrinsics_publisher" pkg="moma_sensor_tools" type="yaml_to_camera_info_publisher.py" args="$(arg custom_intrinsics_file)" output="screen" if="$(arg custom_intrinsics)" />

        <include file="$(find moma_sensor_tools)/launch/handeye_calibration/apriltag_tracking.launch">
          <arg name="launch_realsense" 	value="true"/>
          <arg name="camera_name" 		value="hand_eye"/>
          <arg name="camera_info"	    value="/camera_info" if="$(arg custom_intrinsics)"/>
          <arg name="image_topic" 		value="color/image_raw"/>
          <arg name="debug_pcl"         value="$(arg debug)"/>
          <arg name="rviz" 				value="false"/>
        </include>
	</group>

	<include file="$(find moma_sensor_tools)/launch/handeye_calibration/easy_handeye.launch" if="$(arg operator_pc)">
	  <arg name="robot_base_frame" 			  value="panda_link0"/>
	  <arg name="robot_effector_frame" 		value="panda_link8"/>
	  <arg name="tracking_base_frame" 		value="hand_eye_link"/>
	  <arg name="tracking_marker_frame" 	value="tag_2"/>
	  <arg name="start_rviz" 	            value="true"/>
	</include>
</launch>
